---
title: Butterflyä¸»é¢˜å®‰è£…&ç¾åŒ– # ä»£ç æ¼”ç¤ºåç§°
date: 2022-04-23 22:48:20 # ä»£ç æ¼”ç¤ºåˆ›å»ºæ—¶é—´
description: è¯¦è§£Butterflyä¸»é¢˜å®‰è£…&ç¾åŒ–æ­¥éª¤ï¼Œå¹¶è®°å½•è¿‡ç¨‹ä¸­è¸©åˆ°çš„å‘ # æè¿°ï¼Œç”¨æ¥åšä¸»é¡µæ–‡ç« å†…å®¹èŠ‚é€‰
cover: "./img/MD4.png"
categories: Blog
tags: 
  - Butterfly
  - ä¸»é¢˜
  - ç¾åŒ–
  - å®‰è£…
---

# ä¸»é¢˜å®‰è£…&ç¾åŒ–

hexoä¸»é¢˜æœ‰å¾ˆå¤šï¼Œå…·ä½“å¯å‚è€ƒhexoå®˜ç½‘ã€‚ä¹‹å‰ç”¨è¿‡nextä¸»é¢˜åŠŸèƒ½æ€§å¾ˆå¼ºï¼Œæœ¬æ¬¡ç”¨çš„ä¸»é¢˜æ˜¯butterflyéå¸¸ç¾è§‚æ¼‚äº®ã€‚

æ‰€æœ‰ä¸»é¢˜ä¼šå­˜åœ¨./themes/ç›®å½•ä¸‹ã€‚butterflyä¸»é¢˜å®˜æ–¹ç½‘å€ï¼šhttps://butterfly.js.org/

hexoæ ¹ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶å«ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œ./themes/butterfly/ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶å«ä¸»é¢˜é…ç½®æ–‡ä»¶ã€‚

### ä¸€ã€å®‰è£…ä¸»é¢˜

1ã€åœ¨hexoé¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤è¡Œï¼Œå®‰è£…cloneä¸»é¢˜

```
# git clone -b master ä¸»é¢˜githubåœ°å€.git æœ¬åœ°å®‰è£…è·¯å¾„
git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly
```

2ã€å¦‚æœæ²’æœ‰ pug ä»¥åŠ stylus çš„æ¸²æŸ“å™¨ï¼Œè¿˜éœ€è¦ä¸‹è½½ï¼Œå¦åˆ™åœ¨é¡¹ç›®è¿è¡Œæ—¶ä¼šæŠ¥é”™ï¼š

```
npm install hexo-renderer-pug hexo-renderer-stylus --save
```

3ã€ä¿®æ”¹hexoé¡¹ç›®æ ¹ç›®å½•ä¸‹_config.ymlæ–‡ä»¶ï¼Œå¼€å¯ä¸»é¢˜

```
# Extensions
## Plugins: https://hexo.io/plugins/
## Themes: https://hexo.io/themes/
## ä¸»é¢˜
## theme: landscape
theme: butterfly
```

4ã€ä¸»é¢˜å‡çº§å»ºè®®

ä¸ºäº†å‡å°‘å‡çº§ä¸»é¢˜å¸¦æ¥çš„ä¸ä¾¿ï¼Œè¿˜éœ€è¦æŠŠä¸»é¢˜æ–‡ä»¶å¤¹é‡Œçš„ _config.yml å¤åˆ¶åˆ°hexoæ›´ç›®å½•é‡Œï¼Œé‡å‘½åä¸º _config.butterfly.yml ã€‚

hexo ä¼šè‡ªåŠ¨åˆå¹¶ä¸»é¢˜ä¸­ _config.yml å’Œ _config.butterfly.yml é‡Œçš„é…ç½®ï¼Œå¦‚æœå­˜åœ¨åŒåé…ç½®ï¼Œä¼šä½¿ç”¨ _config.butterfly.yml çš„é…ç½®ï¼Œå…¶ä¼˜å…ˆåº¦æ¯”è¾ƒé«˜ã€‚

### äºŒã€è®¾ç½®ç½‘ç«™ä¸ªäººèµ„æ–™

ä¿®æ”¹hexoæ ¹ç›®å½•ä¸‹ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.yml

```
# Site
title: ChenYong's Blog #æ ‡é¢˜
subtitle: é™ˆå‹‡çš„ä¸ªäººåšå®¢ #å‰¯æ ‡é¢˜
description: æˆ‘å°±æ˜¯æˆ‘ï¼Œä¸ä¸€æ ·çš„çƒŸç« #ä¸ªæ€§ç­¾å
keywords: # keywordsåŠ å‚æ•°ä¼šå¯¼è‡´æŠ¥é”™ï¼Œå…·ä½“åŸå› ä¸çŸ¥
author: Chen Yong #ä½œè€…
language: zh-CN #è¯­è¨€
timezone: Asia/Shanghai #ä¸­å›½çš„æ—¶åŒº
```

### ä¸‰ã€å¯¼èˆªèœå•

ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ _config.butterfly.yml 

â€||â€œç¬¦å·å‰çš„æ–‡å­—ï¼Œä¼šè‡ªåŠ¨åŒ¹é…å¹¶å¯¹åº”åˆ°ï¼šæ ¹ç›®å½•/sourceé‡Œçš„ç›¸åº”æ–‡ä»¶å¤¹

```
menu:
  ä¸»é¡µ: / || fas fa-home
  åšæ–‡ || fa fa-graduation-cap:
    åˆ†ç±»: /categories/ || fa fa-archive
    æ ‡ç­¾: /tags/ || fa fa-tags
    å½’æ¡£: /archives/ || fa fa-folder-open
  ç”Ÿæ´» || fas fa-list:
    åˆ†äº«: /shuoshuo/ || fa fa-comments-o
    ç›¸å†Œ: /photos/ || fa fa-camera-retro
    éŸ³ä¹: /music/ || fa fa-music
    å½±è§†: /movies/ || fas fa-video
  å‹é“¾: /link/ || fa fa-link
  ç•™è¨€æ¿: /comment/ || fa fa-paper-plane
  #ç•™è¨€æ¿: /messageboard/ || fa fa-paper-plane
  å…³äºç¬”è€…: /about/ || fas fa-heart
```

### å››ã€æ·»åŠ æ ‡ç­¾é¡µ

åœ¨hexoæ ¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤è¡Œ

```
hexo new page tags
```

ä¼šåœ¨æ ¹ç›®å½•ä¸‹çš„sourceæ–‡ä»¶é‡Œç”Ÿæˆåˆšå»ºçš„tagsæ–‡ä»¶å¤¹ï¼Œåœ¨æ ¹ç›®å½•ä¸‹/source/tags/index.mdæ–‡ä»¶æ·»åŠ æ ‡ç­¾ï¼Œå…·ä½“å¦‚ä¸‹ï¼š

```
---
title: ChenYong's æ ‡ç­¾é¡µ # æ ‡ç­¾å
date: 2022-04-22 21:10:52 # æ ‡ç­¾åˆ›å»ºæ—¶é—´
type: "tags" # æ ‡ç­¾ç±»å‹
---
```

### äº”ã€æ·»åŠ åˆ†ç±»é¡µ

åœ¨hexoæ ¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤è¡Œ

```
hexo new page categories
```

ä¼šåœ¨æ ¹ç›®å½•ä¸‹çš„sourceæ–‡ä»¶é‡Œç”Ÿæˆåˆšå»ºçš„categoriesæ–‡ä»¶å¤¹ï¼Œåœ¨æ ¹ç›®å½•ä¸‹/source/categories/index.mdæ–‡ä»¶æ·»åŠ æ ‡ç­¾ï¼Œå…·ä½“å¦‚ä¸‹ï¼š

```
---
title: ChenYong's åˆ†ç±»é¡µ # åˆ†ç±»åç§°
date: 2022-04-22 21:24:20 # åˆ†ç±»åˆ›å»ºæ—¶é—´
type: "categories" # åˆ†ç±»ç±»å‹
---
```

### å…­ã€æ·»åŠ å‹æƒ…é“¾æ¥é¡µ

åœ¨hexoæ ¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤è¡Œ

```
hexo new page link
```

ä¼šåœ¨æ ¹ç›®å½•ä¸‹çš„sourceæ–‡ä»¶é‡Œç”Ÿæˆåˆšå»ºçš„linkæ–‡ä»¶å¤¹ï¼Œåœ¨æ ¹ç›®å½•ä¸‹/source/link/index.mdæ–‡ä»¶æ·»åŠ æ ‡ç­¾ï¼Œå…·ä½“å¦‚ä¸‹ï¼š

```
---
title: ChenYong's å‹æƒ…é“¾æ¥é¡µ # å‹æƒ…é“¾æ¥åç§°
date: 2022-04-22 21:37:00 # å‹æƒ…é“¾æ¥åˆ›å»ºæ—¶é—´
type: "link" # å‹æƒ…é“¾æ¥ç±»å‹
---
```

### ä¸ƒã€æ·»åŠ å‹æƒ…é“¾æ¥

åœ¨Hexoåšå®¢ç›®å½•ä¸­çš„source/_dataï¼ˆå¦‚æœæ²’æœ‰ _data æ–‡ä»¶å¤¾ï¼Œè¯·è‡ªè¡Œåˆ›å»ºï¼‰ï¼Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶link.ymlæ–‡ä»¶

```

```

### å…«ã€å‹æƒ…é“¾æ¥è¸©å‘è®°å½•

â€ä¸‰ã€å¯¼èˆªèœå•â€œï¼Œâ€å…­ã€æ·»åŠ å‹æƒ…é“¾æ¥é¡µâ€œã€â€ä¸ƒã€æ·»åŠ å‹æƒ…é“¾æ¥â€œé‡Œçš„æ‰€æœ‰â€linkâ€œéƒ½æ˜¯å•æ•°ä¸èƒ½åŠ sï¼Œä¸ç„¶å‹æƒ…é“¾æ¥é¡µæ— æ³•è¯†åˆ«å‡ºâ€source/_data/link.ymlâ€œé‡Œçš„æ‰€æœ‰å‹æƒ…é“¾æ¥ã€‚

### ä¹ã€404é¡µé¢

ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ _config.butterfly.yml 

æœç´¢æ‰¾åˆ°404ï¼ŒæŠŠenableæ”¹æˆtrueã€‚

æ³¨æ„ï¼šæœ¬åœ°é¢„è§ˆæ—¶ï¼Œè®¿é—®å‡ºé”™çš„ç½‘ç«™æ˜¯ä¸ä¼šè·³è½¬åˆ°404é¡µé¢çš„ï¼Œå¦‚éœ€æœ¬åœ°é¢„è§ˆï¼Œè¯·è®¿é—®http://localhost:4000/404.html

```
# A simple 404 page
error_404:
  enable: true
  subtitle: "Page Not Found"
  background: https://i.loli.net/2020/05/19/aKOcLiyPl2JQdFD.png
```

### åã€ä»£ç å—æ˜¾ç¤ºè®¾ç½®

ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ _config.butterfly.yml 

```
highlight_theme: mac light #  darker / pale night / light / ocean / mac / mac light / false
highlight_copy: true # copy button
highlight_lang: true # show the code language
highlight_shrink: false # true: shrink the code blocks / false: expand the code blocks | none: expand code blocks and hide the button
highlight_height_limit: 300 # unit: px
code_word_wrap: false
```

1ã€highlight_themeï¼šè®¾ç½®ä»£ç å—çš„ä¸»é¢˜æ ·å¼ï¼Œæœ‰ä»¥ä¸‹æ ·å¼ï¼š *darker / pale night / light / ocean / mac / mac light / false*

2ã€highlight_copyï¼šè®¾ç½®ä»£ç å¤åˆ¶åŠŸèƒ½

3ã€highlight_langï¼šæ˜¯å¦æ˜¾ç¤ºä»£ç è¯­è¨€

4ã€highlight_shrinkï¼štrue å…¨éƒ¨ä»£ç æ¡†ä¸å±•å¼€ï¼Œéœ€ç‚¹å‡»â€>â€œæ‰“å¼€ï¼›false ä»£ç æ¡†å±•å¼€ï¼Œæœ‰â€>â€œç‚¹å‡»æŒ‰é’®ï¼›none ä¸æ˜¾ç¤ºâ€>â€œæŒ‰é’®

5ã€highlight_height_limitï¼šä»£ç è¡Œé«˜åº¦é™åˆ¶ï¼ˆä¾‹ï¼šé»˜è®¤è¡Œé«˜300ï¼Œè¶…è¿‡300çš„ä¼šéšè—ï¼Œå±•å¼€æ‰ä¼šæ˜¾ç¤ºå®Œæ•´ï¼‰ï¼Œå•ä½ï¼špxã€‚åˆ‡è®°ä¸è¦åœ¨æ•°å­—åé¢åŠ pxï¼å·²ç»é»˜è®¤å•ä½æ˜¯pxäº†ï¼Œå¦åˆ™åŠ äº†pxä¼šæŠ¥é”™ï¼

6ã€code_word_wrapï¼šä»£ç è‡ªåŠ¨æ¢è¡Œï¼Œå¦‚æœä½ ä¸å¸Œæœ›åœ¨ä»£ç å—çš„åŒºåŸŸé‡Œæœ‰æ¨ªå‘æ»šåŠ¨æ¡çš„è¯å°±å¼€å¯ä»£ç æ¢è¡Œï¼Œå»ºè®®ä»£ç è¿˜æ˜¯ä¸è¦æ¢è¡Œçš„å¥½ã€‚

### åä¸€ã€ä»£ç å—æ•ˆæœæ¼”ç¤º

åœ¨æ ¹ç›®å½•ä¸‹/source/postsä¸‹æ–°å»ºæ–‡ä»¶å¤¹â€ä»£ç å—æ¼”ç¤ºâ€œï¼Œå†åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹æ–°å»ºâ€æ¼”ç¤º.mdâ€œæ–‡ä»¶ï¼Œå†™å…¥ä»£ç å¦‚ä¸‹ï¼š

æ³¨æ„ï¼šå‰é¢çš„ç¬¦å·æ˜¯â€---â€œä¸‰ä¸ªæ¨ªæ ï¼Œåé¢çš„ç¬¦å·æ˜¯â€```â€œä¸‰ä¸ªè‹±æ–‡çš„escä¸‹é¢çš„ç‚¹ç¬¦å·ã€‚ç¬¦å·é”™è¯¯ä¼šå¯¼è‡´æ˜¾ç¤ºä¸å‡ºä»£ç å—ï¼

```
---
title: ä»£ç æ¼”ç¤º # ä»£ç æ¼”ç¤ºåç§°
date: 2022-04-22 22:48:20 # ä»£ç æ¼”ç¤ºåˆ›å»ºæ—¶é—´
---


â€‹```JavaScript
<script>
document.getElementById("demo").innerHTML = "ä»£ç å—æ¼”ç¤ºTEST";document.getElementById("demo").innerHTML = "ä»£ç å—æ¼”ç¤ºTEST";document.getElementById("demo").innerHTML = "ä»£ç å—æ¼”ç¤ºTEST";document.getElementById("demo").innerHTML = "ä»£ç å—æ¼”ç¤ºTEST";document.getElementById("demo").innerHTML = "ä»£ç å—æ¼”ç¤ºTEST";document.getElementById("demo").innerHTML = "ä»£ç å—æ¼”ç¤ºTEST";document.getElementById("demo").innerHTML = "ä»£ç å—æ¼”ç¤ºTEST";document.getElementById("demo").innerHTML = "ä»£ç å—æ¼”ç¤ºTEST";document.getElementById("demo").innerHTML = "ä»£ç å—æ¼”ç¤ºTEST";
</script>
<script>
document.getElementById("demo").innerHTML = "ä»£ç å—æ¼”ç¤ºTEST";
</script>
<script>
document.getElementById("demo").innerHTML = "ä»£ç å—æ¼”ç¤ºTEST";
</script>
<script>
document.getElementById("demo").innerHTML = "ä»£ç å—æ¼”ç¤ºTEST";
</script>
<script>
document.getElementById("demo").innerHTML = "ä»£ç å—æ¼”ç¤ºTEST";
</script>
<script>
document.getElementById("demo").innerHTML = "ä»£ç å—æ¼”ç¤ºTEST";
</script>
<script>
document.getElementById("demo").innerHTML = "ä»£ç å—æ¼”ç¤ºTEST";
</script>
<script>
document.getElementById("demo").innerHTML = "ä»£ç å—æ¼”ç¤ºTEST";
</script>
<script>
document.getElementById("demo").innerHTML = "ä»£ç å—æ¼”ç¤ºTEST";
</script>
â€‹```
```

### åäºŒã€ç¤¾äº¤å›¾æ ‡

ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ _config.butterfly.yml 

ç¤¾äº¤å›¾æ ‡å®˜æ–¹æ¨èåº“ï¼šhttps://fontawesome.com/icons?from=io

1ã€åœ¨ä¸Šé¢çš„ç¤¾äº¤å›¾æ ‡ç½‘ç«™æ‰¾ä¸ªåˆé€‚çš„å›¾æ ‡ï¼Œå¤åˆ¶å›¾æ ‡ä»£ç ï¼Œä¾‹ï¼š

```
<i class="fa-brands fa-weibo"></i>
```

2ã€å°†classnameæå–å‡ºæ¥ï¼Œå†™ä¸Šåœ°å€å’Œåç§°ï¼Œä¾‹ï¼š

```
# social settings (ç¤¾äº¤åœ–æ¨™è¨­ç½®)
# formal:
#   icon: link || the description
social:
  fab fa-github: https://github.com/CYwarrior666 || Github
  # fas fa-envelope: mailto:xxxxxx@gmail.com || Email
  fa-brands fa-weibo: https://weibo.com/ || å¾®åš
```

### åä¸‰ã€ä¸»é¡µæ–‡ç« å†…å®¹èŠ‚é€‰ï¼ˆä¸»é¡µå†…å®¹æè¿°ï¼šdescriptionï¼‰

ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ _config.butterfly.yml 

1ã€ä¿®æ”¹methodå€¼æ”¹ä¸º2ï¼Œå…·ä½“ä½œç”¨å‚è€ƒå®˜æ–¹æ–‡æ¡£

```
# Display the article introduction on homepage
# 1: description
# 2: both (if the description exists, it will show description, or show the auto_excerpt)
# 3: auto_excerpt (default)
# false: do not show the article introduction
index_post_content:
  method: 2
  length: 500 # if you set method to 2 or 3, the length need to config
```

2ã€ç»§ç»­åœ¨â€æ¼”ç¤º.mdâ€œæ–‡ä»¶é‡Œæ·»åŠ descriptionä»£ç ï¼Œä¸»é¡µå†…å®¹å°±ä¼šæ˜¾ç¤ºdescriptionï¼šåé¢çš„æ–‡å­—æè¿°

```
---
title: ä»£ç æ¼”ç¤º # ä»£ç æ¼”ç¤ºåç§°
date: 2022-04-22 22:48:20 # ä»£ç æ¼”ç¤ºåˆ›å»ºæ—¶é—´
description: ä»£ç å—æ¼”ç¤ºå†…å®¹æè¿°ï¼Œç”¨æ¥åšä¸»é¡µæ–‡ç« å†…å®¹èŠ‚é€‰ # æè¿°ï¼Œç”¨æ¥åšä¸»é¡µæ–‡ç« å†…å®¹èŠ‚é€‰
---
```

### åå››ã€é¡¶éƒ¨å›¾

1ã€index_imgï¼šé¦–é¡µå›¾ç‰‡

è¿™é‡Œç”¨çš„æ˜¯å›¾åºŠä¸Šçš„url

```
index_img: http://rapxsxmwd.hn-bkt.clouddn.com/background.jpg
```

2ã€default_top_imgï¼šæ‰€æœ‰åŠ è½½å¤±è´¥çš„å›¾ç‰‡

```
default_top_img: https://i.loli.net/2020/05/19/aKOcLiyPl2JQdFD.png
```

3ã€archive_imgï¼šå½’æ¡£é¡µçš„é¡¶éƒ¨å›¾ç‰‡

è¿™é‡Œæ˜¯ç”¨çš„æ˜¯æœ¬åœ°urlï¼Œåœ¨â€æ ¹ç›®å½•/source/â€œä¸‹æ–°å»ºâ€imgâ€œæ–‡ä»¶å¤¹ï¼Œå°†å›¾ç‰‡æ”¾å…¥åˆ°è¯¥"img"æ–‡ä»¶å¤¹å†…

```
archive_img: "./img/background2.jpg"
```

4ã€tag_imgï¼š

5ã€tag_per_imgï¼š

6ã€category_imgï¼š

7ã€category_per_imgï¼š

8ã€categoriesï¼Œtagsï¼Œlinkçš„é¡¶éƒ¨å›¾ç‰‡æ¯”è¾ƒç‰¹æ®Šéœ€è¦å•ç‹¬å¤„ç†ï¼Œéƒ½è¦åˆ°â€æ ¹ç›®å½•/source/â€œä¸‹å¯¹åº”çš„æ–‡ä»¶å¤¹é‡Œçš„index.mdé‡Œå»ä¿®æ”¹ï¼Œä¾‹ï¼š

top_img: å›¾ç‰‡urlè·¯å¾„

```
---
title: ChenYong's æ ‡ç­¾é¡µ # æ ‡ç­¾åç§°
date: 2022-04-22 21:10:52 # æ ‡ç­¾åˆ›å»ºæ—¶é—´
type: "tags" # æ ‡ç­¾ç±»å‹
top_img: http://rapxsxmwd.hn-bkt.clouddn.com/background2.jpg
---
```

### åäº”ã€æ–‡ç« ç½®é¡¶

åœ¨å¯¹åº”çš„mdæ–‡ä»¶é‡ŒåŠ ä¸Šsticky: 1ï¼Œä¾‹å¦‚ï¼š

```
---
title: ä»£ç æ¼”ç¤º # ä»£ç æ¼”ç¤ºåç§°
date: 2022-04-22 22:48:20 # ä»£ç æ¼”ç¤ºåˆ›å»ºæ—¶é—´
description: ä»£ç å—æ¼”ç¤ºå†…å®¹æè¿°ï¼Œç”¨æ¥åšä¸»é¡µæ–‡ç« å†…å®¹èŠ‚é€‰ # æè¿°ï¼Œç”¨æ¥åšä¸»é¡µæ–‡ç« å†…å®¹èŠ‚é€‰
sticky: 1
---
```

### åå…­ã€æ–‡ç« å°é¢

**æ–¹æ³•ä¸€ï¼šå…¨å±€é…ç½®ï¼Œæ‰¾åˆ°ä»¥ä¸‹ä»£ç ï¼š**

```
cover:
  # display the cover or not (æ˜¯å¦é¡¯ç¤ºæ–‡ç« å°é¢)
  index_enable: true
  aside_enable: true
  archives_enable: true
  # the position of cover in home page (å°é¢é¡¯ç¤ºçš„ä½ç½®)
  # left/right/both
  position: both
  # When cover is not set, the default cover is displayed (ç•¶æ²’æœ‰è¨­ç½®coveræ™‚ï¼Œé»˜èªçš„å°é¢é¡¯ç¤º)
  default_cover:
    - https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png
    - https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg2.png
    - https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg3.png
```

1ã€å¦‚æœä¸æƒ³è¦æ–‡ä»¶å°é¢å°±æŠŠ index_enable è®¾ç½®æˆ false

2ã€  default_cover:é»˜è®¤çš„æ–‡ç« å°é¢ï¼Œå¯ä»¥è®¾ç½®å¤šå¼ å›¾ç‰‡ï¼Œå¯ä»¥éšæœºé€‰æ‹©ä¸€å¼ 

**æ–¹æ³•äºŒï¼šä½†mdæ–‡ä»¶å°é¢é…ç½®ï¼š**

åœ¨mdæ–‡ä»¶æ·»åŠ ä»£ç ï¼š

coverï¼šå›¾ç‰‡urlè·¯å¾„

```
---
title: ä»£ç æ¼”ç¤º # ä»£ç æ¼”ç¤ºåç§°
date: 2022-04-22 22:48:20 # ä»£ç æ¼”ç¤ºåˆ›å»ºæ—¶é—´
description: ä»£ç å—æ¼”ç¤ºå†…å®¹æè¿°ï¼Œç”¨æ¥åšä¸»é¡µæ–‡ç« å†…å®¹èŠ‚é€‰ # æè¿°ï¼Œç”¨æ¥åšä¸»é¡µæ–‡ç« å†…å®¹èŠ‚é€‰
sticky: 1
cover: https://pic3.zhimg.com/80/v2-41e9a45f1888c56774550db784dc0b1e_720w.jpg
---
```

### åä¸ƒã€æ–‡ç« é¡µç›¸å…³é…ç½®

1ã€æ–‡ç« metaæ˜¾ç¤º

```
post_meta:
  page: # Home Page
    date_type: created # created or updated or both ä¸»é¡µæ–‡ç« æ—¥æœŸæ˜¯åˆ›å»ºæ—¥æˆ–è€…æ›´æ–°æ—¥æˆ–éƒ½æ˜¾ç¤º
    date_format: date # date/relative æ˜¾ç¤ºæ—¥æœŸè¿˜æ˜¯æ˜¯ç›¸å¯¹æ—¥æœŸ
    categories: true # true or false ä¸»é¡µæ˜¯å¦æ˜¾ç¤ºåˆ†ç±»
    tags: true # true or false ä¸»é¡µæ˜¯å¦æ˜¾ç¤ºæ ‡ç­¾
    label: true # true or false æ˜¾ç¤ºæè¿°æ€§æ–‡å­—
  post:
    date_type: both # created or updated or both æ–‡ç« é¡µæ—¥æœŸæ˜¯åˆ›å»ºæ—¥æˆ–è€…æ›´æ–°æ—¥æˆ–éƒ½æ˜¾ç¤º
    date_format: date # date/relative æ˜¾ç¤ºæ—¥æœŸè¿˜æ˜¯ç›¸å¯¹æ—¥æœŸ
    categories: true # true or false æ–‡ç« é¡µæ˜¯å¦æ˜¾ç¤ºåˆ†é¡
    tags: true # true or false æ–‡ç« é¡µæ˜¯å¦æ˜¾ç¤ºæ ‡ç­¾
    label: true # true or false æ˜¾ç¤ºæè¿°æ€§æ–‡å­—
```

2ã€æ–‡ç« ç‰ˆæƒæ˜¾ç¤º

enableï¼šæ§åˆ¶å¼€å…³

```
post_copyright:
  enable: true
  decode: false
  license: CC BY-NC-SA 4.0
  license_url: https://creativecommons.org/licenses/by-nc-sa/4.0/
```

### åä¸ƒã€æœ¬åœ°æœç´¢åŠŸèƒ½

ä¿®æ”¹hexoé¡¹ç›®æ ¹ç›®å½•ä¸‹_config.ymlæ–‡ä»¶

1ã€å®‰è£…æ’ä»¶

```
npm install hexo-generator-search --save
```

2ã€ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ _config.butterfly.yml 

```
# search
search:
  path: search.xml
  field: post
  format: html
  limit: 10000 #æœ€å¤šæœç´¢å¤šå°‘æ¡
```

ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ _config.butterfly.yml æ–‡ä»¶

3ã€æ‰“å¼€ä¸»é¢˜æœç´¢ï¼Œfalseæ”¹æˆtrue

```
  # search
  local_search:
    enable: true
```

### åå…«ã€æ–‡ç« é”šç‚¹å¼€å¯

```
anchor: true
```

### åä¹ã€æ–‡ç« åˆ†é¡µ

post_pagination: falseï¼Œå…³é—­æ–‡ç« åˆ†é¡µ

post_pagination: 1ï¼Œä¸‹ä¸€é¡µæ˜¯ä¸Šä¸€ç¯‡æ–‡ç« 

post_pagination: 2ï¼Œä¸‹ä¸€é¡µæ˜¯ä¸‹ä¸€ç¯‡æ–‡ç« 

### äºŒåã€å¤´åƒ

```
# Avatar (é ­åƒ)
avatar:
  img: "./img/avatar_girl.jpg"
  effect: false
```

### äºŒåä¸€ã€å›¾ç‰‡æè¿°å¼€å¯

```
# figcaption (åœ–ç‰‡æè¿°æ–‡å­—)
photofigcaption: true
```

### äºŒåäºŒã€é¡µè„š

sinceï¼šBlogå¼€å§‹æ—¶é—´

custom_text:ï¼šè‡ªå®šä¹‰è¯­è¨€

```
# Footer Settings
# --------------------------------------
footer:
  owner:
    enable: true
    since: 2022
  custom_text: æ¬¢è¿æ¥åˆ°æˆ‘çš„Blog,ä¸€èµ·ç•…æ¸¸çŸ¥è¯†æµ·æ´‹å§ï¼ğŸ˜˜
  copyright: true # Copyright of theme and framework
```

### äºŒåä¸‰ã€ä¾§è¾¹æ 

```
aside:
  enable: true
  hide: false
  button: true
  mobile: true # display on mobile
  position: left # left or right
  card_author:
    enable: true
    description:
    button:
      enable: true
      icon: fab fa-github
      text: å…³æ³¨æˆ‘çš„GitHub
      link: https://github.com/CYwarrior666
  card_announcement:
    enable: true
    content: æ¬¢è¿æ¥åˆ°æˆ‘çš„Blog # å…¬å‘Š
  card_recent_post:
    enable: true
    limit: 5 # if set 0 will show all
    sort: date # date or updated
    sort_order: # Don't modify the setting unless you know how it works
  card_categories:
    enable: true
    limit: 8 # if set 0 will show all
    expand: none # none/true/false
    sort_order: # Don't modify the setting unless you know how it works
  card_tags:
    enable: true
    limit: 40 # if set 0 will show all
    color: false
    sort_order: # Don't modify the setting unless you know how it works
  card_archives:
    enable: true
    type: monthly # yearly or monthly
    format: MMMM YYYY # eg: YYYYå¹´MMæœˆ
    order: -1 # Sort of order. 1, asc for ascending; -1, desc for descending
    limit: 8 # if set 0 will show all
    sort_order: # Don't modify the setting unless you know how it works
  card_webinfo:
    enable: true
    post_count: true
    last_push_date: true
    sort_order: # Don't modify the setting unless you know how it works
```

### äºŒåå››ã€åˆ†äº«

```
# Share.js
# https://github.com/overtrue/share.js
sharejs:
  enable: true
  sites: facebook,twitter,wechat,weibo,qq
```

### äºŒåäº”ã€ç¾åŒ–é¡µé¢æ˜¾ç¤ºï¼ˆä¼šå’Œå‹æƒ…é“¾æ¥å†²çªï¼‰

```
# Beautify (ç¾åŒ–é¡µé¢æ˜¾ç¤º)
beautify:
  enable: true
  field: post # site/post
  title-prefix-icon: '\f0c1'
  title-prefix-icon-color: "#F47466"
```

### äºŒåå…­ã€ç½‘ç«™çš„å‰¯æ ‡é¢˜

sourceï¼šè°ƒç”¨ç¬¬ä¸‰æ–¹çš„APIï¼Œæ˜¾ç¤ºä¸€å¥è¯

subï¼šå¯ä»¥å›ºå®šæ˜¾ç¤ºä¸€äº›è¯

```
# the subtitle on homepage (ä¸»é¡µsubtitle)
subtitle:
  enable: true
  # Typewriter Effect (æ‰“å­—æ•ˆæœ)
  effect: true
  # loop (å¾ªç’°æ‰“å­—)
  loop: true
  # source èª¿ç”¨ç¬¬ä¸‰æ–¹æœå‹™
  # source: false é—œé–‰èª¿ç”¨
  # source: 1  èª¿ç”¨ä¸€è¨€ç¶²çš„ä¸€å¥è©±ï¼ˆç°¡é«”ï¼‰ https://hitokoto.cn/
  # source: 2  èª¿ç”¨ä¸€å¥ç¶²ï¼ˆç°¡é«”ï¼‰ http://yijuzhan.com/
  # source: 3  èª¿ç”¨ä»Šæ—¥è©©è©ï¼ˆç°¡é«”ï¼‰ https://www.jinrishici.com/
  # subtitle æœƒå…ˆæ˜¾ç¤º source , å†æ˜¾ç¤º sub çš„å…§å®¹
  source: 2
  # å¦‚æœé—œé–‰æ‰“å­—æ•ˆæœï¼Œsubtitle åªæœƒæ˜¾ç¤º sub çš„ç¬¬ä¸€è¡Œæ–‡å­—
  sub:
    - ä¸€èµ·é¨æ¸¸çŸ¥è¯†çš„æµ·æ´‹
```

### äºŒåä¸ƒã€æ€§èƒ½ä¼˜åŒ–

1ã€Open graph:

åœ¨ head é‡Œå¢åŠ ä¸€äº› meta èµ„æ–™ï¼Œä¾‹å¦‚ç¸®ç•¥å›¾ã€æ ‡é¢˜ã€æ—¶é—´ç­‰ç­‰ã€‚å½“ä½ åˆ†äº«ç½‘é¡µåˆ°ä¸€äº›å¹³å°æ™‚ï¼Œå¹³å°ä¼šè¯»å– Open Graph çš„å…§å®¹ï¼Œå±•ç¤ºç¸®ç•¥å›¾ï¼Œæ ‡é¢˜ç­‰ç­‰ä¿¡æ¯ã€‚

```
# Open graph meta tags
# https://developers.facebook.com/docs/sharing/webmasters/
Open_Graph_meta: true
```

2ã€instantpage:

å½“é¼ æ ‡æ‚¬åœåˆ°é“¾æ¥ä¸Šè¶…è¿‡ 65 æ¯«ç§’æ—¶ï¼ŒInstantpage ä¼šå¯¹è¯¥é“¾æ¥è¿›è¡Œé¢„åŠ è½½ï¼Œå¯ä»¥æå‡è®¿é—®é€Ÿåº¦ã€‚

```
# prefetch (é åŠ è¼‰)
instantpage: true
```

3ã€Pjax:

å½“ç”¨æˆ·ç‚¹å‡»é“¾æ¥ï¼Œé€šè¿‡ajaxæ›´æ–°é¡µé¢éœ€è¦å˜åŒ–çš„éƒ¨åˆ†ï¼Œç„¶åä½¿ç”¨HTML5çš„pushStateä¿®æ”¹æµè§ˆå™¨çš„URLåœ°å€ã€‚

è¿™æ ·å¯ä»¥ä¸ç”¨é‡å¤åŠ è½½ç›¸åŒçš„èµ„æºï¼ˆcss/jsï¼‰ï¼Œä»è€Œæå‡ç½‘é¡µçš„åŠ è½½é€Ÿåº¦ã€‚

```
# Pjax
# It may contain bugs and unstable, give feedback when you find the bugs.
# https://github.com/MoOx/pjax
pjax:
  enable: true
  exclude:
```

### äºŒåå…«ã€é€æ˜åŒ–

1ã€footeré€æ˜ï¼Œheadé€æ˜åŒç†
æ ¹ç›®å½•\themes\butterfly\source\css\_layout\footer.styl

```
 // æ³¨é‡Šæ‰ä¸‹é¢çš„ä»£ç 
 // background: $light-blue
```

2ã€ä¸»ä½“é€æ˜ï¼š

å…¶ä»–æ‰€æœ‰imgå…¨éƒ½æ¸…ç©ºï¼ˆå¦‚ï¼šdefault_top_imgã€archive_imgã€tag_imgã€category_imgç­‰ï¼‰

ä¿®æ”¹ä¸»é¡µæ¨ªå¹…å›¾åƒ

```
# The banner image of home page
index_img: /img/background1.jpg
```

ä¿®æ”¹èƒŒæ™¯å›¾åƒ

```
# Website Background (è¨­ç½®ç¶²ç«™èƒŒæ™¯)
# can set it to color or image (å¯è¨­ç½®åœ–ç‰‡ æˆ–è€… é¡”è‰²)
# The formal of image: url(http://xxxxxx.com/xxx.jpg)
background: /img/background1.jpg
```

ä½¿ä¸»é¡µæ¨ªå¹…å›¾åƒå’ŒèƒŒæ™¯å›¾åƒä¸€è‡´

3ã€ä¿®æ”¹æ ¹ç›®å½•ä¸‹\themes\butterfly\layout\includes\header\index.pug

- is_post()  åˆ¤æ–­å½“å‰é¡µé¢æ˜¯ä¸æ˜¯æ–‡ç« ç•Œé¢
- is_home()  åˆ¤æ–­å½“å‰é¡µé¢æ˜¯ä¸æ˜¯ç½‘ç«™çš„ä¸»ç•Œé¢
- ä¿®æ”¹é€»è¾‘ä¸ºï¼š
  - å¦‚æœå½“å‰ç•Œé¢æ˜¯æ–‡ç« çš„é¡µé¢ï¼Œé‚£ä¹ˆè®¾ç½® top_img ä¸º false ï¼Œå³æ–‡ç« ç•Œé¢ä¸æ˜¾ç¤ºæœ€ä¸Šæ–¹çš„å›¾ç‰‡
  - å¦‚æœå½“å‰ç•Œé¢æ˜¯ç½‘ç«™çš„é¦–é¡µé¢ï¼Œé‚£ä¹ˆè®¾ç½® top_img ä¸ºæˆ‘ä»¬è®¾ç½®çš„ index_img

```
if !theme.disable_top_img && page.top_img !== false
  if is_post()
    // - var top_img = page.top_img || page.cover || page.randomcover
    - var top_img = false
  else if is_page()
    - var top_img = page.top_img || theme.default_top_img
  else if is_tag()
    - var top_img = theme.tag_per_img && theme.tag_per_img[page.tag] 
    - top_img = top_img ? top_img : (theme.tag_img !== false ? theme.tag_img || theme.default_top_img : false)
  else if is_category()
    - var top_img = theme.category_per_img && theme.category_per_img[page.category]
    - top_img = top_img ? top_img : (theme.category_img !== false ? theme.category_img || theme.default_top_img : false)
  else if is_home()
    // - var top_img = theme.index_img !== false ? theme.index_img || theme.default_top_img : false
    - var top_img = theme.index_img 
  else if is_archive()
    - var top_img = theme.archive_img !== false ? theme.archive_img || theme.default_top_img : false
  else
    - var top_img = page.top_img || theme.default_top_img
```

